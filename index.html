<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Primary Meta Tags -->
	<title>Cherumanaikal Farm - UPI Payment</title>
	<meta name="title" content="Cherumanaikal Farm - Secure UPI Payment">
	<meta name="description" content="Make secure UPI payments to Cherumanaikal Farm for fresh organic produce and farm products">

	<!-- Open Graph / Facebook -->
	<meta property="og:type" content="website">
	<meta property="og:title" content="Cherumanaikal Farm - UPI Payment">
	<meta property="og:description" content="Make secure UPI payments to Cherumanaikal Farm">

	<!-- Twitter -->
	<meta property="twitter:card" content="summary_large_image">
	<meta property="twitter:title" content="Cherumanaikal Farm - UPI Payment">
	<meta property="twitter:description" content="Make secure UPI payments to Cherumanaikal Farm">

	<link rel="stylesheet" href="css/main.css">
	<link rel="icon" href="favicon.ico">
</head>

<body>
	<div class="container">
		<div class="payment-card">
			<div class="farm-header">
				<div class="farm-icon">
					<svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
						<circle cx="30" cy="30" r="28" fill="#2d5016" stroke="#4a7c2f" stroke-width="2"/>
						<path d="M30 15 L35 25 L45 27 L37 35 L39 45 L30 40 L21 45 L23 35 L15 27 L25 25 Z" fill="#7cb342"/>
						<rect x="28" y="35" width="4" height="10" fill="#6d4c41"/>
					</svg>
				</div>
				<h1 class="farm-title">Cherumanaikal Farm</h1>
				<p class="farm-subtitle">Organic Excellence Since Generations</p>
			</div>

			<div class="payment-info">
				<div class="info-badge">
					<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM11 15H9V13H11V15ZM11 11H9V5H11V11Z" fill="#2d5016"/>
					</svg>
					<span id="payment-message">Scan QR code or tap Pay Now button</span>
				</div>
			</div>

			<div class="qr-container">
				<canvas id="qr"></canvas>
			</div>

			<div class="amount-display" id="amount-display" style="display: none;">
				<span class="amount-label">Amount</span>
				<span class="amount-value" id="amount-value"></span>
			</div>

			<div class="payment-action">
				<a id="linkpe" class="pay-button">
					<svg class="upi-icon" width="40" height="40" viewBox="0 0 40 40" fill="none">
						<rect width="40" height="40" rx="8" fill="white"/>
						<path d="M8 20L14 14L20 20L26 14L32 20" stroke="#00796b" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
						<path d="M10 28H30M14 24H26M16 32H24" stroke="#00796b" stroke-width="2" stroke-linecap="round"/>
					</svg>
					<span>Pay Now with UPI</span>
				</a>
			</div>

			<div class="payment-methods">
				<p class="methods-title">Accepted UPI Apps</p>
				<div class="methods-grid">
					<span class="method-badge">Google Pay</span>
					<span class="method-badge">PhonePe</span>
					<span class="method-badge">Paytm</span>
					<span class="method-badge">BHIM</span>
					<span class="method-badge">Amazon Pay</span>
					<span class="method-badge">Others</span>
				</div>
			</div>

			<div class="security-notice">
				<svg width="16" height="16" viewBox="0 0 16 16" fill="none">
					<path d="M8 0L2 3V7.5C2 11.5 4.5 15 8 16C11.5 15 14 11.5 14 7.5V3L8 0Z" fill="#4a7c2f"/>
					<path d="M7 10L5 8L5.7 7.3L7 8.6L10.3 5.3L11 6L7 10Z" fill="white"/>
				</svg>
				<span>Secure payment powered by UPI</span>
			</div>

			<div class="farm-footer">
				<p>Thank you for supporting local organic farming</p>
			</div>
		</div>
	</div>

	<script src="qrious/qrious.min.js"></script>
	<script>
		if (window.location.search.indexOf('pa') > -1) {
			const queryString = window.location.search;
			const urlParams = new URLSearchParams(queryString);
			const pn = urlParams.get('pn') || 'Cherumanaikal Farm';
			const pa = urlParams.get('pa');
			const am = urlParams.get('am');
			const cu = urlParams.get('cu') || 'INR';

			const url = 'upi://pay' + queryString;

			if (am) {
				document.getElementById('amount-display').style.display = 'flex';
				document.getElementById('amount-value').textContent = `₹${am}`;
				document.getElementById('payment-message').textContent = `Complete your payment of ₹${am} to ${pn}`;
			} else {
				document.getElementById('payment-message').textContent = `Make a payment to ${pn}`;
			}

			document.getElementById("linkpe").href = url;

			new QRious({
				element: document.getElementById('qr'),
				background: '#ffffff',
				foreground: '#2d5016',
				size: 240,
				level: 'H',
				value: url
			});
		} else {
			document.querySelector('.payment-card').innerHTML = `
				<div class="error-state">
					<div class="farm-header">
						<div class="farm-icon">
							<svg width="60" height="60" viewBox="0 0 60 60" fill="none">
								<circle cx="30" cy="30" r="28" fill="#c62828" stroke="#d32f2f" stroke-width="2"/>
								<path d="M20 20L40 40M40 20L20 40" stroke="white" stroke-width="4" stroke-linecap="round"/>
							</svg>
						</div>
						<h1 class="farm-title">Invalid Payment Link</h1>
						<p class="farm-subtitle">This payment link is incomplete or invalid</p>
					</div>
					<div class="payment-info">
						<p style="text-align: center; color: #666; line-height: 1.6;">
							Please request a valid payment link from Cherumanaikal Farm
						</p>
					</div>
				</div>
			`;
		}
	</script>
</body>

</html>